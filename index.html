<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ITAM ¬∑ Dashboard</title>
<style>
  :root{
    --bg:#f7f9fc; --panel:#ffffff; --muted:#667085; --text:#111827;
    --line:#e5e7eb; --shadow:0 6px 18px rgba(16,24,40,.06);
    --green:#e9fbf0; --yellow:#fff8e6; --red:#ffe9ea; --blue:#eef1ff;
    --chipG:#d1fae5; --chipY:#fef3c7; --chipR:#fee2e2; --chipB:#e0e7ff;
  }
  *{box-sizing:border-box} html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font:15px/1.55 system-ui,Segoe UI,Roboto,'Noto Sans Thai',sans-serif}
  header{display:flex;justify-content:space-between;align-items:center;padding:10px 16px;border-bottom:1px solid var(--line);background:#fff;position:sticky;top:0;z-index:10}
  .left{display:flex;gap:10px;align-items:center}
  .brand{font-weight:800}
  .right{display:flex;gap:10px;align-items:center}
  .circle{width:36px;height:36px;border-radius:999px;border:1px solid var(--line);display:grid;place-items:center;background:#fff;cursor:pointer}
  .user{display:flex;gap:8px;align-items:center;border:1px solid var(--line);background:#fff;border-radius:999px;padding:4px 10px}
  .name{font-weight:700;font-size:14px} .role{font-size:12px;color:var(--muted)}
  .app{display:grid;grid-template-columns:220px 1fr;min-height:100%}
  aside{border-right:1px solid var(--line);padding:14px}
  .nav a{display:block;padding:10px 12px;border-radius:10px;margin:6px 0;background:#fff;border:1px solid var(--line);text-decoration:none;color:#111}
  .nav a.active{outline:2px solid #2563eb}
  main{padding:20px}
  .h1{font-weight:800;margin:6px 0 10px} .sub{color:var(--muted);margin-bottom:10px}
  .toolbar{display:flex;gap:8px;margin:8px 0 14px}
  .select{position:relative}
  .select>button{background:#fff;border:1px solid var(--line);border-radius:10px;padding:8px 12px;min-width:120px;cursor:pointer;box-shadow:var(--shadow)}
  .menu{position:absolute;left:0;top:40px;background:#fff;border:1px solid var(--line);border-radius:10px;display:none;min-width:220px;box-shadow:var(--shadow)}
  .menu.open{display:block} .opt{padding:8px 12px;cursor:pointer;border-bottom:1px solid var(--line)}
  .cards{display:grid;gap:12px;max-width:960px}
  .card{display:grid;grid-template-columns:auto 1fr;gap:12px;padding:14px;border-radius:14px;border:1px solid var(--line)}
  .icon{width:36px;height:36px;border-radius:999px;display:grid;place-items:center;background:rgba(0,0,0,.06)}
  .badge{display:inline-block;font-size:12px;font-weight:700;padding:6px 10px;border-radius:999px;border:1px solid var(--line);margin-right:8px}
  .green{background:var(--green)} .yellow{background:var(--yellow)} .red{background:var(--red)} .blue{background:var(--blue)}
  .bG{background:var(--chipG)} .bY{background:var(--chipY)} .bR{background:var(--chipR)} .bB{background:var(--chipB)}
  footer{border-top:1px solid var(--line);padding:10px 16px;color:#667085}
</style>
</head>
<body>
<header>
  <div class="left"><div class="brand">ITAM ¬∑ Dashboard</div></div>
  <div class="right">
    <!-- persistent top-right tabs -->
    <a class="circle" title="Notifications">üîî</a>
    <a class="circle" title="Settings">‚öôÔ∏è</a>
    <a class="circle" title="Account">üë§</a>
    <div class="user"><div class="circle" style="width:28px;height:28px">JR</div><div><div class="name">Jack Reacher</div><div class="role">IT Support</div></div></div>
  </div>
</header>
<div class="app">
  <aside>
    <div class="nav">
      <a class="active" href="index.html">Dashboard</a>
      <a href="item-request.html">Item Request</a>
    </div>
  </aside>
  <main>
    <div class="h1">Approve Request</div>
    <div class="sub">User view</div>
    <div class="toolbar">
      <div class="select" id="yearSel">
        <button id="yearBtn"><span id="yearLabel">2025</span> ‚ñæ</button>
        <div class="menu" id="yearMenu"></div>
      </div>
      <div class="select" id="typeSel">
        <button id="typeBtn"><span id="typeLabel">All Requests</span> ‚ñæ</button>
        <div class="menu" id="typeMenu"></div>
      </div>
    </div>
    <div class="cards" id="cards"></div>
  </main>
</div>
<footer>IT Asset Management ¬∑ Prototype</footer>

<script>
const data = [
  {ticket:"ITAM01-202906", item:"Lenovo ThinkPad X1 Gen5", qty:1, sn:"GMXK2W", status:"approved", created:"2025-08-15", approved:"2025-08-25"},
  {ticket:"ITAM02-202908", item:"Lenovo 65W USB-C", qty:1, sn:"C123", status:"pending", created:"2025-08-16"},
  {ticket:"ITAM03-202908", item:"Logitech M331", qty:1, sn:"L0M478B", status:"rejected", created:"2025-08-17"},
  {ticket:"ITAM05-202903", item:"Anker GaN 45W", qty:1, sn:"ANK45", status:"resub", created:"2025-03-02"},
];
const styles = {approved:['green','bG','‚úÖ'], pending:['yellow','bY','üõ†Ô∏è'], rejected:['red','bR','‚õî'], resub:['blue','bB','üîÅ']};
const years = Array.from(new Set(data.map(d=>new Date(d.created).getFullYear()).concat([2024]))).sort((a,b)=>b-a);
const state = {year: years[0], type:'all'};

function initMenus(){
  const yMenu = document.getElementById('yearMenu');
  yMenu.innerHTML = years.map(y=>`<div class='opt' data-year='${y}'>${y}</div>`).join('');
  yMenu.onclick = e => { const el = e.target.closest('.opt'); if(!el) return; state.year=+el.dataset.year; document.getElementById('yearLabel').textContent = state.year; yMenu.classList.remove('open'); render(); };
  document.getElementById('yearBtn').onclick = ()=> yMenu.classList.toggle('open');

  const tMenu = document.getElementById('typeMenu');
  const types = [['all','All Requests'],['pending','Pending for me'],['resub','Re-Submitted Req.'],['rejected','Rejected Requests'],['approved','Approved Req.'],['deleted','Deleted Req.']];
  tMenu.innerHTML = types.map(([v,l])=>`<div class='opt' data-type='${v}'>${l}</div>`).join('');
  tMenu.onclick = e => { const el = e.target.closest('.opt'); if(!el) return; state.type=el.dataset.type; document.getElementById('typeLabel').textContent = el.textContent; tMenu.classList.remove('open'); render(); };
  document.getElementById('typeBtn').onclick = ()=> tMenu.classList.toggle('open');

  document.addEventListener('click', (e)=>{
    if(!e.target.closest('#yearSel')) yMenu.classList.remove('open');
    if(!e.target.closest('#typeSel')) tMenu.classList.remove('open');
  });
}

function render(){
  const wrap = document.getElementById('cards');
  const items = data
    .filter(d=>new Date(d.created).getFullYear()===state.year)
    .filter(d=> state.type==='all' ? true : d.status===state.type)
    .map(d=>{
      const [c,b,icon] = styles[d.status];
      return `<div class="card ${c}">
        <div class="icon">${icon}</div>
        <div>
          <div style="font-weight:800">Ticket: ${d.ticket}</div>
          <div style="color:#667085">${d.item} ¬∑ ${d.qty} Unit ¬∑ SN: ${d.sn}</div>
          <div style="margin-top:6px;color:#667085">
            <span class="badge ${b}">${d.status==='approved'?'Approved':d.status==='pending'?'Pending':d.status==='rejected'?'Rejected':'Re-Submitted'}</span>
            ${d.status==='approved'?`<span style='margin-left:10px'>Approved: ${d.approved}</span>`:''}
            <span style="margin-left:10px">Created on: ${d.created}</span>
          </div>
        </div>
      </div>`;
    }).join('');
  wrap.innerHTML = items || '<div style="color:#667085">No request found for your filter.</div>';
}

initMenus();
document.getElementById('yearLabel').textContent = state.year;
document.getElementById('typeLabel').textContent = 'All Requests';
render();
</script>
</body>
</html>
